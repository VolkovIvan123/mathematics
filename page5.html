<!DOCTYPE html>  
<html lang="ru">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">  
    <link rel="stylesheet" href="styles.css">  
    <title>Регистрация и покупка Pro</title>  
</head>  
<body>   
    
    <nav class="navbar navbar-expand-lg navbar-light bg-light">  
        <a class="navbar-brand d-flex align-items-center" href="index.html">  
            <img src="logo.jpg" alt="Логотип" class="logo-img">  
            Математический задачник  
        </a>  
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Переключить навигацию">  
            <span class="navbar-toggler-icon"></span>  
        </button>  
        <div class="collapse navbar-collapse" id="navbarNav">  
            <ul class="navbar-nav ml-auto">  
            <ul class="navbar-nav">  
                <li class="nav-item">  
                    <a class="nav-link" href="page4.html">О нас</a>  
                </li>  
                <li class="nav-item">  
                    <a class="nav-link" href="index.html">Ввод заданий</a>  
                </li>  
                <li class="nav-item">  
                    <a class="nav-link" href="page5.html">Личный кабинет</a>  
                </li>  
            </ul>  
            <a class="btn btn-pro ml-auto" href="page5.html">Купить Pro</a>   
        </div>  
    </nav>   


    
    <div class="container mt-5">    
        <div class="row">  
            <div class="col-md-6">  
                <h2>Регистрация</h2>  
                <form id="registrationForm">  
                    <div class="form-group">  
                        <label for="name">Введите Имя Фамилия</label>  
                        <input type="text" class="form-control" id="name" placeholder="Имя Фамилия" required>  
                    </div>  
                    <div class="form-group">  
                        <label for="username">Введите Username</label>  
                        <input type="text" class="form-control" id="username" placeholder="Username" required>  
                    </div>  
                    <div class="form-group">  
                        <label for="email">Введите Email</label>  
                        <input type="email" class="form-control" id="email" placeholder="Email" required>  
                    </div>  
                    <button ym(99896700,'reachGoal','REG') type="submit" class="btn btn-primary">Отправить</button>  
                    <button type="button" id="downloadRegistration" class="btn btn-secondary mt-2" style="display:none;">Скачать данные регистрации</button>  
                    <hr style="border-top: 1px solid gray;" class="mb-4">  
                </form>  
                <p class="mt-4">Регистрация помогает собирать статистику для администрации сайта.</p>  
            </div>  
    
            <div class="col-md-6">  
                <h2>Купить Pro</h2>  
                <form id="purchaseForm">  
                    <div class="form-group">  
                        <label for="namePro">Введите Имя Фамилия</label>  
                        <input type="text" class="form-control" id="namePro" placeholder="Имя Фамилия" required>  
                    </div>  
                    <div class="form-group">  
                        <label for="cardNumber">Введите Номер карты</label>  
                        <input type="text" class="form-control" id="cardNumber" placeholder="Номер карты" required>  
                    </div>  
                    <div class="form-group">  
                        <label for="emailPro">Введите Email</label>  
                        <input type="email" class="form-control" id="emailPro" placeholder="Email" required>  
                    </div>  
                    <button type="submit" class="btn btn-primary">Отправить</button>  
                    <button type="button" id="downloadPurchase" class="btn btn-secondary mt-2" style="display:none;">Скачать данные покупки</button>  
                    <hr style="border-top: 1px solid gray;" class="mb-4">  
                </form>  
                <p class="mt-4">Про подписка стоит 299 руб в месяц. Она дает возможность запоминать все решенные примеры, а также открывает доступ к большему количеству шаблонов задач.</p>  
            </div>  
        </div>  
    </div>  
    
    <script>  
        let registrationData = null; // Переменная для хранения данных регистрации  
        let purchaseData = null; // Переменная для хранения данных покупки  
    
        // Функция для скачивания данных  
        function download(data, filename) {  
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });  
            const url = URL.createObjectURL(blob);  
            const a = document.createElement('a');  
            a.href = url;  
            a.download = filename;  
            document.body.appendChild(a);  
            a.click();  
            document.body.removeChild(a);  
        }  
    
        // Обработка данных регистрации  
        document.getElementById('registrationForm').addEventListener('submit', function(event) {  
            event.preventDefault(); // Предотвращаем перезагрузку страницы  
            const name = document.getElementById('name').value;  
            const username = document.getElementById('username').value;  
            const email = document.getElementById('email').value;  
    
            registrationData = {  
                name: name,  
                username: username,  
                email: email  
            };  
    
            alert(`Регистрация успешна! \nИмя: ${name} \nUsername: ${username} \nEmail: ${email}`);  
            this.reset(); // Сброс формы после отправки  
    
            // Показываем кнопку для скачивания данных регистрации  
            document.getElementById('downloadRegistration').style.display = 'block';  
        });  
    
        // Обработка данных для покупки Pro  
        document.getElementById('purchaseForm').addEventListener('submit', function(event) {  
            event.preventDefault();  // Предотвращаем перезагрузку страницы  
            const namePro = document.getElementById('namePro').value;  
            const cardNumber = document.getElementById('cardNumber').value;  
            const emailPro = document.getElementById('emailPro').value;  
    
            purchaseData = {  
                name: namePro,  
                cardNumber: cardNumber,  
                email: emailPro  
            };  
    
            alert(`Покупка Pro версии успешна! \nИмя: ${namePro} \nНомер карты: ${cardNumber} \nEmail: ${emailPro}`);  
            
            this.reset(); // Сброс формы после отправки  
    
            // Показываем кнопку для скачивания данных покупки  
            document.getElementById('downloadPurchase').style.display = 'block';  
        });  
    
        // Обработка нажатия на кнопку скачивания данных регистрации  
        document.getElementById('downloadRegistration').addEventListener('click', function() {  
            if (registrationData) {  
                download(registrationData, 'registrationData.json'); // Скачиваем файл с данными  
            }  
        });  
    
        // Обработка нажатия на кнопку скачивания данных покупки  
        document.getElementById('downloadPurchase').addEventListener('click', function() {  
            if (purchaseData) {  
                download(purchaseData, 'purchaseData.json'); // Скачиваем файл с данными  
            }  
        });  
    </script>



    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>  
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>  
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>  
</body>  
</html>
